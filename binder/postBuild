#!/bin/bash

echo "🚀 Setting up Quantum Networking System for Binder..."

# Create necessary directories
mkdir -p saved_topologies
mkdir -p simulation_logs

# Set up environment variables
export PYTHONPATH="${PYTHONPATH}:$(pwd)"
export DISABLE_EMBEDDING=1
export DISABLE_AI_FEATURES=1
export DISABLE_REDIS_LOGGING=1

# Install qutip via pip (more reliable than conda)
echo "🔬 Installing qutip via pip..."
pip install qutip

# Build React frontend if it exists
echo "🔨 Building React frontend..."
cd ui
if [ -f "package.json" ]; then
    npm install --silent
    npm run build --silent
    echo "✅ Frontend built successfully"
else
    echo "⚠️ No package.json found in ui directory"
fi
cd ..

echo "✅ Setup complete - Quantum networking system ready!"

